<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Aruco Marker Generator</title>
    <link rel="stylesheet" href="src/css/shared.css">
    <link rel="stylesheet" href="src/css/marker-generator.css">
</head>
<body>
    <div class="container">
        <div class="controls">
            <h2>Aruco Marker Generator</h2>
            
            <div class="control-group">
                <div class="control-item">
                    <label for="dictionary">Dictionary:</label>
                    <select id="dictionary">
                        <option value="DICT_4X4_50">4x4 (50 markers)</option>
                        <option value="DICT_4X4_100">4x4 (100 markers)</option>
                        <option value="DICT_4X4_250">4x4 (250 markers)</option>
                        <option value="DICT_4X4_1000">4x4 (1000 markers)</option>
                        <option value="DICT_5X5_50">5x5 (50 markers)</option>
                        <option value="DICT_5X5_100">5x5 (100 markers)</option>
                        <option value="DICT_5X5_250">5x5 (250 markers)</option>
                        <option value="DICT_5X5_1000">5x5 (1000 markers)</option>
                        <option value="DICT_6X6_50">6x6 (50 markers)</option>
                        <option value="DICT_6X6_100">6x6 (100 markers)</option>
                        <option value="DICT_6X6_250">6x6 (250 markers)</option>
                        <option value="DICT_6X6_1000">6x6 (1000 markers)</option>
                        <option value="DICT_7X7_50">7x7 (50 markers)</option>
                        <option value="DICT_7X7_100">7x7 (100 markers)</option>
                        <option value="DICT_7X7_250">7x7 (250 markers)</option>
                        <option value="DICT_7X7_1000">7x7 (1000 markers)</option>
                        <option value="DICT_ARUCO_ORIGINAL">ARUCO ORIGINAL</option>
                        <option value="DICT_APRILTAG_16h5">AprilTag 16h5</option>
                        <option value="DICT_APRILTAG_25h9">AprilTag 25h9</option>
                        <option value="DICT_APRILTAG_36h10">AprilTag 36h10</option>
                        <option value="DICT_APRILTAG_36h11">AprilTag 36h11</option>
                        <option value="DICT_ARUCO_MIP_36h12">ARUCO MIP 36h12</option>
                    </select>
                </div>

                <div class="control-item">
                    <label for="markerSize">Marker Size (pixels):</label>
                    <input type="number" id="markerSize" value="200" min="50">
                </div>

                <div class="control-item">
                    <label for="startId">Start ID:</label>
                    <input type="number" id="startId" value="0" min="0">
                </div>

                <div class="control-item">
                    <label for="numMarkers">Number of Markers:</label>
                    <input type="number" id="numMarkers" value="4" min="1">
                </div>

                <div class="control-item">
                    <label for="columns">Columns:</label>
                    <input type="number" id="columns" value="2" min="1">
                </div>

                <div class="control-item">
                    <label for="gap">Gap Between Markers (pixels):</label>
                    <input type="number" id="gap" value="20" min="0">
                </div>

                <button id="generateBtn">Generate Markers</button>
                <button id="downloadBtn">Download Image</button>
                <button id="printBtn">Print</button>
            </div>
        </div>

        <div class="output">
            <canvas id="markersCanvas"></canvas>
        </div>
    </div>

    <script async src="src/js/opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
    <script type="text/javascript">
        async function onOpenCvReady() {
            // initially cv will be a Promise
            cv.then((cvInstance) => {
                // replace cv with the real object
                window.cv = cvInstance;

                // now cv is ready to be used
                initializeControls();
                dictionary = getDictionary();
                generateMarkers();
            });
        }
    </script>
    <script src="src/js/aruco-generator.js" type="text/javascript"></script>
</body>
</html> 