<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>OpenCV Aruco Test</title>
</head>

<body>
    <h1 id="opencv-status" style="color: red;">OpenCV is not loaded.</h2>
    <p id="buildInfo"></p>

    <script async src="js/opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
    <script type="text/javascript">
        async function onOpenCvReady() {
            // initially cv will be a Promise
            cv.then((cvInstance) => {
                // replace cv with the real object
                window.cv = cvInstance;

                // now cv is ready to be used, we can call it normally
                main();
            });
        }

        function main() {
            let statusLabel = document.getElementById('opencv-status');
            statusLabel.style.color = 'green';
            statusLabel.innerHTML = "OpenCV is ready."

            console.log(cv.getBuildInformation());
            document.getElementById('buildInfo').innerText = cv.getBuildInformation();
        }
    </script>
</body>
</html>